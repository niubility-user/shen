var Protect=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t="";try{t=JSON.stringify(e)}catch(e){}return t}function o(e,t){try{for(var n in t)!function(n){e["__"+n+"__"]=e[n],Object.defineProperty(e,n,{get:function(){return function(){var r=void 0;try{var o=e["__"+n+"__"],a=t[n].before,i=t[n].after;"function"==typeof a&&a.apply(this,arguments),r=o.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)}catch(e){console.error("Perf error: "+e.message)}return r}},set:function(t){e["__"+n+"__"]=t},enumerable:!0,configurable:!0})}(n)}catch(e){console.error("Perf error: "+e.message)}}function a(){}function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function f(){var e=App;App=function(t){var n=void 0,r=0<arguments.length&&void 0!==t?t:{};return n=r,m.forEach(function(e){var t=n[e]||a;n[e]=function(){var n=Date.now(),r=t.apply(this,arguments);return s.traceCompleteEvent("App","App."+e,n,Date.now()),r}}),e(r)}}function c(){var e=Page;Page=function(t){var n=void 0,r=0<arguments.length&&void 0!==t?t:{};n=r,_.forEach(function(e){var t=n[e]||a;n[e]=function(){"onLoad"!==e||this.__isHook__||(this.__isHook__=!0,o(this,D));var n=Date.now(),r=t.apply(this,arguments);return s.traceCompleteEvent(this.__route__,"Page."+e,n,Date.now()),r}}),function(e){for(var t in e)!function(t){var n=e[t];_.includes(t)||"function"!=typeof n||(e[t]=function(){var e=Date.now(),r=n.apply(this,arguments);return s.traceCompleteEvent(this.__route__,"Page."+t,e,Date.now()),r})}(t)}(r),e(r)}}function u(e,t){function r(r,o){var a=void 0;if("object"===(void 0===r?"undefined":p(r))){var i=e,f=t,c=r,u=Date.now(),d=c.complete;a=f(Object.assign(c,{complete:function(e){"function"==typeof d&&d.apply(d,arguments),s.traceCompleteEvent("API","jd."+i,u,Date.now(),{args:c,res:e})}}),o)}else if("function"==typeof r){var v=e,l=t,y=r,m=Date.now();a=l(function(){"function"==typeof y&&y.apply(y,arguments),s.traceCompleteEvent("API","jd."+v,m,Date.now(),{})})}else{var _=e,g=t,h=arguments,b=Date.now(),j=g.apply(void 0,[].concat(n(h)));s.traceCompleteEvent("API","jd."+_,b,Date.now(),{ret:j}),a=j}return a}Object.defineProperty(jd,e,{get:function(){return r},enumerable:!0,configurable:!0})}function d(){for(var e in jd)if(!g.includes(e)){var t=jd[e];"function"==typeof t&&u(e,t)}}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v={},s=void 0,l=["pageframe","WAWebview"],y=null,m=["onLaunch","onShow","onHide","onUnlaunch"],_=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload"],g=["updatePerfData","traceEvent"],h={updateData:function(e,t){jd.updatePerfData({dataArray:[{key:e,value:t}]})},updateDataGroup:function(e){jd.updatePerfData({dataArray:e})},traceCompleteEvent:function(e,t,n,o,a){jd.traceEvent({events:[{category:e,name:t,start:n,end:o,phase:"X",args:r(a)}]})},traceBeginEvent:function(e,t,n){var o=i()+i()+i(),a={category:e,name:t,start:Date.now(),phase:"B",args:r(n)};return v[o]=a,jd.traceEvent({events:[a]}),o},traceEndEvent:function(e,t){var n=v[e];null!=n?(n.args=null!=t?r(t):n.args,n.end=Date.now(),n.phase="E",jd.traceEvent({events:[n]}),delete v.id):console.error("[Perf] Call traceBeginEvent() before traceEndEvent().")}};!function(){function e(e){var t=h[e];return"function"!=typeof t?{v:void 0}:void(h[e]=function(){return"undefined"!=typeof jd&&"function"==typeof jd.updatePerfData&&"function"==typeof jd.traceEvent?t.apply(this,arguments):void console.error("[Perf] jd.traceEvent or jd.updatePerfData doesn't exist.")})}for(var t in h){var n=e(t);if("object"===(void 0===n?"undefined":p(n)))return n.v}}(),s=h;var b={speedReport:{after:function(e){var t=e.key,n=e.timeMark;if("firstRenderTime"===t||"reRenderTime"===t){if(!n.startTime||!n.endTime)return;var r=n.endTime-n.startTime;s.updateData(t,r+" ms");var o=t.replace("Time",""),a=n.startTime,i=n.endTime;null==y?jd.getCurrentRoute({success:function(e){var t=e.route||"";y=t.replace(/\.html$/,""),s.traceCompleteEvent(y,o,a,i)}}):s.traceCompleteEvent(y,o,a,i)}l.includes(t)&&s.traceCompleteEvent("Native",t,n.startTime,n.endTime)}}},j={subscribeHandler:{after:function(e,t,n,r){var o=1<arguments.length&&void 0!==t?t:{},a=o.data,i=o.options,f=3<arguments.length?r:void 0,c=Date.now(),u=i&&i.timestamp||0,d=f&&f.nativeTime||0;if(0!==u&&0!==d){var p=JSON.stringify(a||{}).length,v=c-u,l=d-u,y="function"==typeof App&&"function"==typeof Page?"webview2AppService":"appService2Webview",m="";"undefined"!=typeof jd&&(m=jd.version&&jd.version.version||""),"develop"===m&&s.updateDataGroup([{key:y+"TotalTime",value:v+" ms"},{key:y+"DataSize",value:"number"!=typeof p?"0 B":1024<=p?(p/1024).toFixed(2)+" KB":p+" B"},{key:y+"NativeTime",value:l+" ms"}])}}}},D={setData:{before:function(e){var t=0;try{t=JSON.stringify(e||{}).length}catch(e){}this.__last_trace_id__=s.traceBeginEvent(this.__route__,"Page.setData",{dataSize:t})},after:function(){s.traceEndEvent(this.__last_trace_id__),delete this.__last_trace_id__}}};try{var E=function(){o(JDJSBridge,j)};if("object"===("undefined"==typeof Perf?"undefined":p(Perf)))for(var P in s)!function(e){Object.defineProperty(Perf,e,{get:function(){return s[e]},enumerable:!0,configurable:!0})}(P);"object"===("undefined"==typeof Reporter?"undefined":p(Reporter))&&o(Reporter,b),"function"==typeof App&&"function"==typeof Page&&"object"===("undefined"==typeof jd?"undefined":p(jd))&&(d(),"function"==typeof App&&f(),"function"==typeof Page&&c()),"undefined"!=typeof JDJSBridge?E():document.addEventListener("JDJSBridgeReady",E,!1)}catch(e){"object"===("undefined"==typeof Reporter?"undefined":p(Reporter))&&Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"Perf"}),console.error("Perf error: "+e.message)}}]);